import{a4 as qe,b as F,e as le,L as Ge,N as ue,S as me,t as Je,v as Xe,f as Ze,R as Ye,P as et,h as tt,c as X,T as A,r as st,i as rt,E as nt,j as ot,k as it,l as at,p as ct,m as dt,A as lt,n as ut,o as mt,q as pt,D as ht,u as ft,w as gt,x as yt,y as St,z as Et,B as bt,F as Pt,G as Tt,H as wt,I as xt,J as At,a as Ct,K as Rt,M as Dt,O as It,Q as _t,U as Nt,V as kt,W as vt,X as $t,Y as Mt,Z as Ft,_ as Ot,$ as Ut,a0 as zt,a1 as Lt,a2 as jt,a3 as Wt,C as Kt,g as Ht}from"./index-Dt_WCYUq.js";import{f as j,t as pe,d as Vt,n as he,s as Bt,F as Qt,g as qt,r as Gt}from"./index-BL2DSSQ0.js";import{t as Jt}from"./toUtf8.browser-CyauOOnS.js";function Z(s){return encodeURIComponent(s).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}const W="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",K="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",H="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",fe="(\\d?\\d)",ge="(\\d{4})",Xt=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),Zt=new RegExp(`^${W}, ${fe} ${K} ${ge} ${H} GMT$`),Yt=new RegExp(`^${W}, ${fe}-${K}-(\\d\\d) ${H} GMT$`),es=new RegExp(`^${W} ${K} ( [1-9]|\\d\\d) ${H} ${ge}$`),ts=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ss=s=>{if(s==null)return;let e=NaN;if(typeof s=="number")e=s;else if(typeof s=="string"){if(!/^-?\d*\.?\d+$/.test(s))throw new TypeError("parseEpochTimestamp - numeric string invalid.");e=Number.parseFloat(s)}else typeof s=="object"&&s.tag===1&&(e=s.value);if(isNaN(e)||Math.abs(e)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(e*1e3))},rs=s=>{if(s==null)return;if(typeof s!="string")throw new TypeError("RFC3339 timestamps must be strings");const e=Xt.exec(s);if(!e)throw new TypeError(`Invalid RFC3339 timestamp format ${s}`);const[,t,r,n,o,i,a,,c,l]=e;x(r,1,12),x(n,1,31),x(o,0,23),x(i,0,59),x(a,0,60);const u=new Date(Date.UTC(Number(t),Number(r)-1,Number(n),Number(o),Number(i),Number(a),Number(c)?Math.round(parseFloat(`0.${c}`)*1e3):0));if(u.setUTCFullYear(Number(t)),l.toUpperCase()!="Z"){const[,f,T,P]=/([+-])(\d\d):(\d\d)/.exec(l)||[void 0,"+",0,0],C=f==="-"?1:-1;u.setTime(u.getTime()+C*(Number(T)*60*60*1e3+Number(P)*60*1e3))}return u},ns=s=>{if(s==null)return;if(typeof s!="string")throw new TypeError("RFC7231 timestamps must be strings.");let e,t,r,n,o,i,a,c;if((c=Zt.exec(s))?[,e,t,r,n,o,i,a]=c:(c=Yt.exec(s))?([,e,t,r,n,o,i,a]=c,r=(Number(r)+1900).toString()):(c=es.exec(s))&&([,t,e,n,o,i,a,r]=c),r&&i){const l=Date.UTC(Number(r),ts.indexOf(t),Number(e),Number(n),Number(o),Number(i),a?Math.round(parseFloat(`0.${a}`)*1e3):0);x(e,1,31),x(n,0,23),x(o,0,59),x(i,0,60);const u=new Date(l);return u.setUTCFullYear(Number(r)),u}throw new TypeError(`Invalid RFC7231 date-time value ${s}.`)};function x(s,e,t){const r=Number(s);if(r<e||r>t)throw new Error(`Value ${r} out of range [${e}, ${t}]`)}const os=s=>{const e=s.length,t=[];let r=!1,n,o=0;for(let i=0;i<e;++i){const a=s[i];switch(a){case'"':n!=="\\"&&(r=!r);break;case",":r||(t.push(s.slice(o,i)),o=i+1);break}n=a}return t.push(s.slice(o)),t.map(i=>{i=i.trim();const a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})};class is extends qe{settings;constructor(e){super(),this.settings=e}read(e,t){const r=F.of(e);if(r.isListSchema())return os(t).map(n=>this.read(r.getValueSchema(),n));if(r.isBlobSchema())return(this.serdeContext?.base64Decoder??j)(t);if(r.isTimestampSchema())switch(le(r,this.settings)){case 5:return rs(t);case 6:return ns(t);case 7:return ss(t);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",t),new Date(t)}if(r.isStringSchema()){const n=r.getMergedTraits().mediaType;let o=t;if(n)return r.getMergedTraits().httpHeader&&(o=this.base64ToUtf8(o)),(n==="application/json"||n.endsWith("+json"))&&(o=Ge.from(o)),o}return r.isNumericSchema()?Number(t):r.isBigIntegerSchema()?BigInt(t):r.isBigDecimalSchema()?new ue(t,"bigDecimal"):r.isBooleanSchema()?String(t).toLowerCase()==="true":t}base64ToUtf8(e){return(this.serdeContext?.utf8Encoder??Jt)((this.serdeContext?.base64Decoder??j)(e))}}const ye=s=>{const e="#text";for(const t in s)s.hasOwnProperty(t)&&s[t][e]!==void 0?s[t]=s[t][e]:typeof s[t]=="object"&&s[t]!==null&&(s[t]=ye(s[t]));return s};let U;function as(s){U||(U=new DOMParser);const e=U.parseFromString(s,"application/xml");if(e.getElementsByTagName("parsererror").length>0)throw new Error("DOMParser XML parsing error.");const t=r=>{if(r.nodeType===Node.TEXT_NODE&&r.textContent?.trim())return r.textContent;if(r.nodeType===Node.ELEMENT_NODE){const n=r;if(n.attributes.length===0&&n.childNodes.length===0)return"";const o={},i=Array.from(n.attributes);for(const c of i)o[`${c.name}`]=c.value;const a=Array.from(n.childNodes);for(const c of a){const l=t(c);if(l!=null){const u=c.nodeName;if(a.length===1&&i.length===0&&u==="#text")return l;o[u]?Array.isArray(o[u])?o[u].push(l):o[u]=[o[u],l]:o[u]=l}else if(a.length===1&&i.length===0)return n.textContent}return o}return null};return{[e.documentElement.nodeName]:t(e.documentElement)}}class cs extends me{settings;stringDeserializer;constructor(e){super(),this.settings=e,this.stringDeserializer=new is(e)}setSerdeContext(e){this.serdeContext=e,this.stringDeserializer.setSerdeContext(e)}read(e,t,r){const n=F.of(e),o=n.getMemberSchemas();if(n.isStructSchema()&&n.isMemberSchema()&&!!Object.values(o).find(l=>!!l.getMemberTraits().eventPayload)){const l={},u=Object.keys(o)[0];return o[u].isBlobSchema()?l[u]=t:l[u]=this.read(o[u],t),l}const a=(this.serdeContext?.utf8Encoder??Je)(t),c=this.parseXml(a);return this.readSchema(e,r?c[r]:c)}readSchema(e,t){const r=F.of(e);if(r.isUnitSchema())return;const n=r.getMergedTraits();if(r.isListSchema()&&!Array.isArray(t))return this.readSchema(r,[t]);if(t==null)return t;if(typeof t=="object"){const o=!!n.sparse,i=!!n.xmlFlattened;if(r.isListSchema()){const c=r.getValueSchema(),l=[],u=c.getMergedTraits().xmlName??"member",f=i?t:(t[0]??t)[u],T=Array.isArray(f)?f:[f];for(const P of T)(P!=null||o)&&l.push(this.readSchema(c,P));return l}const a={};if(r.isMapSchema()){const c=r.getKeySchema(),l=r.getValueSchema();let u;i?u=Array.isArray(t)?t:[t]:u=Array.isArray(t.entry)?t.entry:[t.entry];const f=c.getMergedTraits().xmlName??"key",T=l.getMergedTraits().xmlName??"value";for(const P of u){const C=P[f],O=P[T];(O!=null||o)&&(a[C]=this.readSchema(l,O))}return a}if(r.isStructSchema()){for(const[c,l]of r.structIterator()){const u=l.getMergedTraits(),f=u.httpPayload?u.xmlName??l.getName():l.getMemberTraits().xmlName??c;t[f]!=null&&(a[c]=this.readSchema(l,t[f]))}return a}if(r.isDocumentSchema())return t;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${r.getName(!0)}`)}return r.isListSchema()?[]:r.isMapSchema()||r.isStructSchema()?{}:this.stringDeserializer.read(r,t)}parseXml(e){if(e.length){let t;try{t=as(e)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:e}),i}const r="#text",n=Object.keys(t)[0],o=t[n];return o[r]&&(o[n]=o[r],delete o[r]),ye(o)}return{}}}class ds extends me{settings;buffer;constructor(e){super(),this.settings=e}write(e,t,r=""){this.buffer===void 0&&(this.buffer="");const n=F.of(e);if(r&&!r.endsWith(".")&&(r+="."),n.isBlobSchema())(typeof t=="string"||t instanceof Uint8Array)&&(this.writeKey(r),this.writeValue((this.serdeContext?.base64Encoder??pe)(t)));else if(n.isBooleanSchema()||n.isNumericSchema()||n.isStringSchema())t!=null?(this.writeKey(r),this.writeValue(String(t))):n.isIdempotencyToken()&&(this.writeKey(r),this.writeValue(Xe()));else if(n.isBigIntegerSchema())t!=null&&(this.writeKey(r),this.writeValue(String(t)));else if(n.isBigDecimalSchema())t!=null&&(this.writeKey(r),this.writeValue(t instanceof ue?t.string:String(t)));else if(n.isTimestampSchema()){if(t instanceof Date)switch(this.writeKey(r),le(n,this.settings)){case 5:this.writeValue(t.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue(Vt(t));break;case 7:this.writeValue(String(t.getTime()/1e3));break}}else{if(n.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${n.getName(!0)}`);if(n.isListSchema()){if(Array.isArray(t))if(t.length===0)this.settings.serializeEmptyLists&&(this.writeKey(r),this.writeValue(""));else{const o=n.getValueSchema(),i=this.settings.flattenLists||n.getMergedTraits().xmlFlattened;let a=1;for(const c of t){if(c==null)continue;const l=this.getKey("member",o.getMergedTraits().xmlName),u=i?`${r}${a}`:`${r}${l}.${a}`;this.write(o,c,u),++a}}}else if(n.isMapSchema()){if(t&&typeof t=="object"){const o=n.getKeySchema(),i=n.getValueSchema(),a=n.getMergedTraits().xmlFlattened;let c=1;for(const[l,u]of Object.entries(t)){if(u==null)continue;const f=this.getKey("key",o.getMergedTraits().xmlName),T=a?`${r}${c}.${f}`:`${r}entry.${c}.${f}`,P=this.getKey("value",i.getMergedTraits().xmlName),C=a?`${r}${c}.${P}`:`${r}entry.${c}.${P}`;this.write(o,l,T),this.write(i,u,C),++c}}}else if(n.isStructSchema()){if(t&&typeof t=="object")for(const[o,i]of Ze(n,t)){if(t[o]==null&&!i.isIdempotencyToken())continue;const a=this.getKey(o,i.getMergedTraits().xmlName),c=`${r}${a}`;this.write(i,t[o],c)}}else if(!n.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${n.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");const e=this.buffer;return delete this.buffer,e}getKey(e,t){const r=t??e;return this.settings.capitalizeKeys?r[0].toUpperCase()+r.slice(1):r}writeKey(e){e.endsWith(".")&&(e=e.slice(0,e.length-1)),this.buffer+=`&${Z(e)}=`}writeValue(e){this.buffer+=Z(e)}}class ls extends Ye{options;serializer;deserializer;mixin=new et;constructor(e){super({defaultNamespace:e.defaultNamespace}),this.options=e;const t={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:e.xmlNamespace,serviceNamespace:e.defaultNamespace,serializeEmptyLists:!0};this.serializer=new ds(t),this.deserializer=new cs(t)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(e){this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(e,t,r){const n=await super.serializeRequest(e,t,r);n.path.endsWith("/")||(n.path+="/"),Object.assign(n.headers,{"content-type":"application/x-www-form-urlencoded"}),(tt(e.input)==="unit"||!n.body)&&(n.body="");const o=e.name.split("#")[1]??e.name;return n.body=`Action=${o}&Version=${this.options.version}`+n.body,n.body.endsWith("&")&&(n.body=n.body.slice(-1)),n}async deserializeResponse(e,t,r){const n=this.deserializer,o=F.of(e.output),i={};if(r.statusCode>=300){const f=await X(r.body,t);f.byteLength>0&&Object.assign(i,await n.read(15,f)),await this.handleError(e,t,r,i,this.deserializeMetadata(r))}for(const f in r.headers){const T=r.headers[f];delete r.headers[f],r.headers[f.toLowerCase()]=T}const a=e.name.split("#")[1]??e.name,c=o.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await X(r.body,t);return l.byteLength>0&&Object.assign(i,await n.read(o,l,c)),{$metadata:this.deserializeMetadata(r),...i}}useNestedResult(){return!0}async handleError(e,t,r,n,o){const i=this.loadQueryErrorCode(r,n)??"Unknown",a=this.loadQueryError(n),c=this.loadQueryErrorMessage(n);a.message=c,a.Error={Type:a.Type,Code:a.Code,Message:c};const{errorSchema:l,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,r,a,o,this.mixin.findQueryCompatibleError),f=F.of(l),T=A.for(l[1]).getErrorCtor(l)??Error,P=new T(c),C={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(const[O,G]of f.structIterator()){const J=G.getMergedTraits().xmlName??O,Qe=a[J]??n[J];C[O]=this.deserializer.readSchema(G,Qe)}throw this.mixin.decorateServiceException(Object.assign(P,u,{$fault:f.getMergedTraits().error,message:c},C),n)}loadQueryErrorCode(e,t){const r=(t.Errors?.[0]?.Error??t.Errors?.Error??t.Error)?.Code;if(r!==void 0)return r;if(e.statusCode==404)return"NotFound"}loadQueryError(e){return e.Errors?.[0]?.Error??e.Errors?.Error??e.Error}loadQueryErrorMessage(e){const t=this.loadQueryError(e);return t?.message??t?.Message??e.message??e.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}const us=async(s,e,t)=>({operation:rt(e).operation,region:await he(s.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function ms(s){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:s.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}function ps(s){return{schemeId:"smithy.api#noAuth"}}const hs=s=>{const e=[];switch(s.operation){case"AssumeRoleWithWebIdentity":{e.push(ps());break}default:e.push(ms(s))}return e},fs=s=>Object.assign(s,{stsClientCtor:De}),gs=s=>{const e=fs(s),t=st(e);return Object.assign(t,{authSchemePreference:he(s.authSchemePreference??[])})},ys=s=>Object.assign(s,{useDualstackEndpoint:s.useDualstackEndpoint??!1,useFipsEndpoint:s.useFipsEndpoint??!1,useGlobalEndpoint:s.useGlobalEndpoint??!1,defaultSigningName:"sts"}),Ss={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Es="3.948.0",bs={version:Es},Ps=s=>new TextEncoder().encode(s),Ts=s=>{if(typeof s=="string")return s;if(typeof s!="object"||typeof s.byteOffset!="number"||typeof s.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(s)},Se="required",d="type",m="fn",p="argv",D="ref",Y=!1,z=!0,R="booleanEquals",y="stringEquals",Ee="sigv4",be="sts",Pe="us-east-1",g="endpoint",ee="https://sts.{Region}.{PartitionResult#dnsSuffix}",w="tree",M="error",V="getAttr",te={[Se]:!1,[d]:"string"},L={[Se]:!0,default:!1,[d]:"boolean"},Te={[D]:"Endpoint"},se={[m]:"isSet",[p]:[{[D]:"Region"}]},S={[D]:"Region"},re={[m]:"aws.partition",[p]:[S],assign:"PartitionResult"},we={[D]:"UseFIPS"},xe={[D]:"UseDualStack"},E={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:Ee,signingName:be,signingRegion:Pe}]},headers:{}},b={},ne={conditions:[{[m]:y,[p]:[S,"aws-global"]}],[g]:E,[d]:g},Ae={[m]:R,[p]:[we,!0]},Ce={[m]:R,[p]:[xe,!0]},oe={[m]:V,[p]:[{[D]:"PartitionResult"},"supportsFIPS"]},Re={[D]:"PartitionResult"},ie={[m]:R,[p]:[!0,{[m]:V,[p]:[Re,"supportsDualStack"]}]},ae=[{[m]:"isSet",[p]:[Te]}],ce=[Ae],de=[Ce],ws={parameters:{Region:te,UseDualStack:L,UseFIPS:L,Endpoint:te,UseGlobalEndpoint:L},rules:[{conditions:[{[m]:R,[p]:[{[D]:"UseGlobalEndpoint"},z]},{[m]:"not",[p]:ae},se,re,{[m]:R,[p]:[we,Y]},{[m]:R,[p]:[xe,Y]}],rules:[{conditions:[{[m]:y,[p]:[S,"ap-northeast-1"]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,"ap-south-1"]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,"ap-southeast-1"]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,"ap-southeast-2"]}],endpoint:E,[d]:g},ne,{conditions:[{[m]:y,[p]:[S,"ca-central-1"]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,"eu-central-1"]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,"eu-north-1"]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,"eu-west-1"]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,"eu-west-2"]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,"eu-west-3"]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,"sa-east-1"]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,Pe]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,"us-east-2"]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,"us-west-1"]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,"us-west-2"]}],endpoint:E,[d]:g},{endpoint:{url:ee,properties:{authSchemes:[{name:Ee,signingName:be,signingRegion:"{Region}"}]},headers:b},[d]:g}],[d]:w},{conditions:ae,rules:[{conditions:ce,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[d]:M},{conditions:de,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[d]:M},{endpoint:{url:Te,properties:b,headers:b},[d]:g}],[d]:w},{conditions:[se],rules:[{conditions:[re],rules:[{conditions:[Ae,Ce],rules:[{conditions:[{[m]:R,[p]:[z,oe]},ie],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:b,headers:b},[d]:g}],[d]:w},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[d]:M}],[d]:w},{conditions:ce,rules:[{conditions:[{[m]:R,[p]:[oe,z]}],rules:[{conditions:[{[m]:y,[p]:[{[m]:V,[p]:[Re,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:b,headers:b},[d]:g},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:b,headers:b},[d]:g}],[d]:w},{error:"FIPS is enabled but this partition does not support FIPS",[d]:M}],[d]:w},{conditions:de,rules:[{conditions:[ie],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:b,headers:b},[d]:g}],[d]:w},{error:"DualStack is enabled but this partition does not support DualStack",[d]:M}],[d]:w},ne,{endpoint:{url:ee,properties:b,headers:b},[d]:g}],[d]:w}],[d]:w},{error:"Invalid Configuration: Missing Region",[d]:M}]},xs=ws,As=new nt({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),Cs=(s,e={})=>As.get(s,()=>ot(xs,{endpointParams:s,logger:e.logger}));at.aws=it;const Rs=s=>({apiVersion:"2011-06-15",base64Decoder:s?.base64Decoder??j,base64Encoder:s?.base64Encoder??pe,disableHostPrefix:s?.disableHostPrefix??!1,endpointProvider:s?.endpointProvider??Cs,extensions:s?.extensions??[],httpAuthSchemeProvider:s?.httpAuthSchemeProvider??hs,httpAuthSchemes:s?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new lt},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new ut}],logger:s?.logger??new dt,protocol:s?.protocol??new ls({defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15"}),serviceId:s?.serviceId??"STS",urlParser:s?.urlParser??ct,utf8Decoder:s?.utf8Decoder??Ps,utf8Encoder:s?.utf8Encoder??Ts}),Ds=s=>{const e=mt(s),t=()=>e().then(Pt),r=Rs(s);return{...r,...s,runtime:"browser",defaultsMode:e,bodyLengthChecker:s?.bodyLengthChecker??St,credentialDefaultProvider:s?.credentialDefaultProvider??(n=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:s?.defaultUserAgentProvider??yt({serviceId:r.serviceId,clientVersion:bs.version}),maxAttempts:s?.maxAttempts??gt,region:s?.region??ft("Region is missing"),requestHandler:Qt.create(s?.requestHandler??t),retryMode:s?.retryMode??(async()=>(await t()).retryMode||ht),sha256:s?.sha256??pt,streamCollector:s?.streamCollector??Bt,useDualstackEndpoint:s?.useDualstackEndpoint??(()=>Promise.resolve(bt)),useFipsEndpoint:s?.useFipsEndpoint??(()=>Promise.resolve(Et))}},Is=s=>{const e=s.httpAuthSchemes;let t=s.httpAuthSchemeProvider,r=s.credentials;return{setHttpAuthScheme(n){const o=e.findIndex(i=>i.schemeId===n.schemeId);o===-1?e.push(n):e.splice(o,1,n)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(n){t=n},httpAuthSchemeProvider(){return t},setCredentials(n){r=n},credentials(){return r}}},_s=s=>({httpAuthSchemes:s.httpAuthSchemes(),httpAuthSchemeProvider:s.httpAuthSchemeProvider(),credentials:s.credentials()}),Ns=(s,e)=>{const t=Object.assign(Tt(s),wt(s),qt(s),Is(s));return e.forEach(r=>r.configure(t)),Object.assign(s,xt(t),At(t),Gt(t),_s(t))};class De extends Ct{config;constructor(...[e]){const t=Ds(e||{});super(t),this.initConfig=t;const r=ys(t),n=Rt(r),o=Dt(n),i=It(o),a=Lt(i),c=_t(a),l=gs(c),u=Ns(l,e?.extensions||[]);this.config=u,this.middlewareStack.use(Nt(this.config)),this.middlewareStack.use(kt(this.config)),this.middlewareStack.use(vt(this.config)),this.middlewareStack.use($t(this.config)),this.middlewareStack.use(Mt(this.config)),this.middlewareStack.use(Ft(this.config)),this.middlewareStack.use(Ot(this.config)),this.middlewareStack.use(Ut(this.config,{httpAuthSchemeParametersProvider:us,identityProviderConfigProvider:async f=>new jt({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(zt(this.config))}destroy(){super.destroy()}}let I=class Ie extends Wt{constructor(e){super(e),Object.setPrototypeOf(this,Ie.prototype)}},ks=class _e extends I{name="ExpiredTokenException";$fault="client";constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,_e.prototype)}},vs=class Ne extends I{name="MalformedPolicyDocumentException";$fault="client";constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),Object.setPrototypeOf(this,Ne.prototype)}},$s=class ke extends I{name="PackedPolicyTooLargeException";$fault="client";constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),Object.setPrototypeOf(this,ke.prototype)}},Ms=class ve extends I{name="RegionDisabledException";$fault="client";constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),Object.setPrototypeOf(this,ve.prototype)}},Fs=class $e extends I{name="IDPRejectedClaimException";$fault="client";constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),Object.setPrototypeOf(this,$e.prototype)}},Os=class Me extends I{name="InvalidIdentityTokenException";$fault="client";constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,Me.prototype)}},Us=class Fe extends I{name="IDPCommunicationErrorException";$fault="client";constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),Object.setPrototypeOf(this,Fe.prototype)}};const zs="Arn",Ls="AccessKeyId",js="AssumeRole",Ws="AssumedRoleId",Ks="AssumeRoleRequest",Hs="AssumeRoleResponse",B="AssumedRoleUser",Vs="AssumeRoleWithWebIdentity",Bs="AssumeRoleWithWebIdentityRequest",Qs="AssumeRoleWithWebIdentityResponse",qs="Audience",Q="Credentials",Gs="ContextAssertion",Oe="DurationSeconds",Js="Expiration",Xs="ExternalId",Zs="ExpiredTokenException",Ys="IDPCommunicationErrorException",er="IDPRejectedClaimException",tr="InvalidIdentityTokenException",sr="Key",rr="MalformedPolicyDocumentException",Ue="Policy",ze="PolicyArns",nr="ProviderArn",or="ProvidedContexts",ir="ProvidedContextsListType",ar="ProvidedContext",cr="PolicyDescriptorType",dr="ProviderId",Le="PackedPolicySize",lr="PackedPolicyTooLargeException",ur="Provider",je="RoleArn",mr="RegionDisabledException",We="RoleSessionName",pr="SecretAccessKey",hr="SubjectFromWebIdentityToken",q="SourceIdentity",fr="SerialNumber",gr="SessionToken",yr="Tags",Sr="TokenCode",Er="TransitiveTagKeys",br="Tag",Pr="Value",Tr="WebIdentityToken",wr="arn",xr="accessKeySecretType",_="awsQueryError",N="client",Ar="clientTokenType",k="error",v="httpError",$="message",Cr="policyDescriptorListType",Ke="smithy.ts.sdk.synthetic.com.amazonaws.sts",Rr="tagListType",h="com.amazonaws.sts";var Dr=[0,h,xr,8,0],Ir=[0,h,Ar,8,0],He=[3,h,B,0,[Ws,zs],[0,0]],_r=[3,h,Ks,0,[je,We,ze,Ue,Oe,yr,Er,Xs,fr,Sr,q,or],[0,0,()=>Be,0,1,()=>Br,64,0,0,0,0,()=>Vr]],Nr=[3,h,Hs,0,[Q,B,Le,q],[[()=>Ve,0],()=>He,1,0]],kr=[3,h,Bs,0,[je,We,Tr,dr,ze,Ue,Oe],[0,0,[()=>Ir,0],0,()=>Be,0,1]],vr=[3,h,Qs,0,[Q,hr,B,Le,ur,qs,q],[[()=>Ve,0],0,()=>He,1,0,0,0]],Ve=[3,h,Q,0,[Ls,pr,gr,Js],[0,[()=>Dr,0],0,4]],$r=[-3,h,Zs,{[k]:N,[v]:400,[_]:["ExpiredTokenException",400]},[$],[0]];A.for(h).registerError($r,ks);var Mr=[-3,h,Ys,{[k]:N,[v]:400,[_]:["IDPCommunicationError",400]},[$],[0]];A.for(h).registerError(Mr,Us);var Fr=[-3,h,er,{[k]:N,[v]:403,[_]:["IDPRejectedClaim",403]},[$],[0]];A.for(h).registerError(Fr,Fs);var Or=[-3,h,tr,{[k]:N,[v]:400,[_]:["InvalidIdentityToken",400]},[$],[0]];A.for(h).registerError(Or,Os);var Ur=[-3,h,rr,{[k]:N,[v]:400,[_]:["MalformedPolicyDocument",400]},[$],[0]];A.for(h).registerError(Ur,vs);var zr=[-3,h,lr,{[k]:N,[v]:400,[_]:["PackedPolicyTooLarge",400]},[$],[0]];A.for(h).registerError(zr,$s);var Lr=[3,h,cr,0,[wr],[0]],jr=[3,h,ar,0,[nr,Gs],[0,0]],Wr=[-3,h,mr,{[k]:N,[v]:403,[_]:["RegionDisabledException",403]},[$],[0]];A.for(h).registerError(Wr,Ms);var Kr=[3,h,br,0,[sr,Pr],[0,0]],Hr=[-3,Ke,"STSServiceException",0,[],[]];A.for(Ke).registerError(Hr,I);var Be=[1,h,Cr,0,()=>Lr],Vr=[1,h,ir,0,()=>jr],Br=[1,h,Rr,0,()=>Kr],Qr=[9,h,js,0,()=>_r,()=>Nr],Zr=[9,h,Vs,0,()=>kr,()=>vr];class qr extends Kt.classBuilder().ep(Ss).m(function(e,t,r,n){return[Ht(r,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(Qr).build(){}const Yr=Object.freeze(Object.defineProperty({__proto__:null,AssumeRoleCommand:qr,STSClient:De},Symbol.toStringTag,{value:"Module"}));export{Zr as A,ks as E,Fs as I,vs as M,$s as P,Ms as R,De as S,I as a,qr as b,Ss as c,Os as d,Us as e,Yr as l};
